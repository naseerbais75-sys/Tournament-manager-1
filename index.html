<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Street Scorer - Bais Naseer</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Russo+One&family=Faster+One&family=Bangers&family=Teko:wght@500&family=Audiowide&family=Black+Ops+One&family=Press+Start+2P&family=Staatliches&family=Righteous&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style id="dynamic-theme">
        :root { --neon: #39ff14; --bg: #0a0a0a; --font: 'Orbitron'; }
    </style>
    
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body, html { margin: 0; padding: 0; background: #000; color: white; font-family: var(--font), sans-serif; height: 100vh; overflow: hidden; }

        /* --- üåÄ Cyber Glitch Loading --- */
        #splash { position: fixed; inset: 0; background: #000; z-index: 20000; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
        .loading-box { position: relative; width: 150px; height: 150px; display: flex; align-items: center; justify-content: center; }
        .circle-outer { position: absolute; width: 100%; height: 100%; border: 2px solid #111; border-top: 2px solid var(--neon); border-radius: 50%; animation: spin 0.8s linear infinite; }
        .circle-inner { position: absolute; width: 80%; height: 80%; border: 2px solid #111; border-bottom: 2px solid var(--neon); border-radius: 50%; animation: spin 1.2s linear reverse infinite; }
        .percent-text { font-size: 1.5rem; color: #fff; text-shadow: 0 0 10px var(--neon); }
        .brand-text { margin-top: 30px; font-family: 'Russo One'; font-size: 0.8rem; letter-spacing: 2px; color: #888; }
        .brand-name { color: var(--neon); font-size: 1.2rem; text-shadow: 0 0 10px var(--neon); display: block; margin-top: 5px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- ‚ú® FX --- */
        #fx-overlay { position: fixed; inset: 0; z-index: 18000; display: none; justify-content: center; align-items: center; background: rgba(0,0,0,0.8); pointer-events: none; }
        .fx-text { font-family: 'Faster One'; font-size: 5rem; text-align: center; animation: beast 0.8s forwards; }
        @keyframes beast { 0% { transform: scale(0); opacity:0; } 100% { transform: scale(1.2); opacity:1; } }

        /* --- üì± UI Layout --- */
        #app { display: none; height: 100vh; flex-direction: column; }
        .top-screen { height: 35%; background: #000; display: flex; flex-direction: column; justify-content: center; align-items: center; border-bottom: 2px solid #1a1a1a; }
        .bottom-screen { height: 65%; padding: 12px; background: var(--bg); display: flex; flex-direction: column; overflow-y: auto; }
        .big-score { font-size: 4.2rem; margin: 0; color: var(--neon); line-height: 1; }
        .rr-badge { background: #111; padding: 4px 12px; border-radius: 20px; font-size: 0.7rem; color: #888; margin-top: 8px; border: 1px solid #222; }
        
        .p-card { background: #111; border-radius: 12px; padding: 12px; margin-bottom: 8px; border-left: 4px solid #333; display: flex; justify-content: space-between; align-items: center; }
        .active-p { border-left-color: var(--neon); background: #181818; }

        .btn-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-top: 5px; }
        button { padding: 16px 5px; border-radius: 10px; border: none; font-weight: bold; background: #1a1a1a; color: white; font-size: 1.1rem; font-family: var(--font); }
        button:active { background: var(--neon); color: #000; transform: scale(0.95); }

        /* --- üîó Social Dock (Updated Links) --- */
        .social-dock { display: flex; justify-content: center; gap: 40px; padding: 15px 0; margin-top: auto; border-top: 1px solid #1a1a1a; }
        .social-dock a { color: #666; font-size: 1.8rem; text-decoration: none; transition: 0.3s; }
        .social-dock a:active { color: var(--neon); }

        /* --- ‚öôÔ∏è Settings Panel --- */
        #settings-ui { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 19500; display: none; flex-direction: column; padding: 30px; overflow-y: auto; }
        .setting-item { margin-bottom: 20px; }
        .setting-label { display: block; margin-bottom: 8px; font-size: 0.8rem; color: var(--neon); }
        .setting-input { width: 100%; padding: 12px; background: #111; border: 1px solid #333; color: white; border-radius: 8px; font-family: inherit; }

        /* Modals */
        #modal-ui { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 19000; display: none; flex-direction: column; padding: 40px; justify-content: center; }
        .app-btn { background: var(--neon); color: #000; padding: 15px; border: none; border-radius: 10px; font-weight: 900; font-family: inherit; width: 100%; margin-top: 10px; }
    </style>
</head>
<body>

<div id="splash">
    <div class="loading-box"><div class="circle-outer"></div><div class="circle-inner"></div><div class="percent-text" id="load-pct">0%</div></div>
    <div class="brand-text">BAIS NASEER PRESENTS<span class="brand-name">STREET CRICKET SCORER</span></div>
</div>

<div id="fx-overlay"><div class="fx-text" id="fx-msg">SIX</div></div>

<div id="settings-ui">
    <h2 style="font-family:'Russo One'; border-bottom: 1px solid #222; padding-bottom:10px;">CUSTOMIZATION</h2>
    <div class="setting-item">
        <span class="setting-label">SELECT FONT (10 OPTIONS)</span>
        <select class="setting-input" id="font-choice" onchange="applyCustomSettings()">
            <option value="Orbitron">Orbitron (Default)</option>
            <option value="Russo One">Russo One</option>
            <option value="Faster One">Faster One</option>
            <option value="Bangers">Bangers</option>
            <option value="Teko">Teko</option>
            <option value="Audiowide">Audiowide</option>
            <option value="Black Ops One">Military</option>
            <option value="Press Start 2P">8-Bit Gaming</option>
            <option value="Staatliches">Staatliches</option>
            <option value="Righteous">Righteous</option>
        </select>
    </div>
    <div class="setting-item">
        <span class="setting-label">THEME COLOR (NEON)</span>
        <input type="color" class="setting-input" id="color-choice" value="#39ff14" onchange="applyCustomSettings()">
    </div>
    <button class="app-btn" onclick="toggleSettings()">SAVE & CLOSE</button>
    <button class="app-btn" style="background:red; color:white; margin-top:30px;" onclick="resetMatch()">RESET MATCH DATA</button>
</div>

<div id="modal-ui">
    <h2 id="modal-title" style="color:var(--neon)">DETAILS</h2>
    <div id="modal-content"></div>
</div>

<div id="app">
    <div class="top-screen">
        <div id="target-ui" style="font-size:0.7rem; color:var(--neon); margin-bottom:5px; display:none;">TARGET: <span id="target-val">0</span></div>
        <h1 class="big-score" id="main-score">0-0</h1>
        <div style="opacity:0.6; font-size:0.8rem;">OVERS: <span id="ovs-ui">0.0</span> / <span id="max-ovs">2</span></div>
        <div class="rr-badge">RR: <span id="rr-ui">0.00</span> <span id="rrr-box" style="display:none;">| RRR: <span id="rrr-ui">0.00</span></span></div>
    </div>

    <div class="bottom-screen">
        <div class="p-card active-p" id="p1-card">
            <div><b id="p1-n">Striker</b><br><small id="p1-sr">SR: 0</small></div>
            <b id="p1-r" style="font-size:1.4rem;">0(0)</b>
        </div>
        <div class="p-card" id="p2-card">
            <div style="opacity:0.4;"><b id="p2-n">Non-Striker</b><br><small id="p2-sr">SR: 0</small></div>
            <b id="p2-r" style="font-size:1.4rem; opacity:0.4;">0(0)</b>
        </div>
        
        <div style="font-size:0.7rem; color:#444; margin: 5px 0;">BOWLER: <span id="bwl-n" style="color:var(--neon)">-</span></div>

        <div class="btn-grid">
            <button onclick="hit(0)">0</button><button onclick="hit(1)">1</button>
            <button onclick="hit(2)">2</button><button onclick="hit(3)">3</button>
            <button onclick="hit(4)" style="color:var(--neon)">4</button>
            <button onclick="hit(6)" style="color:var(--neon)">6</button>
            <button onclick="extra()">WD</button><button onclick="extra()">NB</button>
            <button style="grid-column: span 2; background:#300; color:red;" onclick="wicket()">OUT</button>
            <button onclick="toggleSettings()"><i class="fas fa-sliders-h"></i></button>
            <button onclick="undo()" style="background:#222;"><i class="fas fa-undo"></i></button>
        </div>

        <div class="social-dock">
            <a href="https://youtube.com/@baisgaminglive?si=Dnu9jy185KIl4WJv" target="_blank"><i class="fab fa-youtube"></i></a>
            <a href="https://whatsapp.com/channel/0029Vb7OTl7IHphRKwM9AD0H" target="_blank"><i class="fab fa-whatsapp"></i></a>
        </div>
    </div>
</div>

<script>
    let m = { r:0, w:0, b:0, p1n:"P1", p2n:"P2", bN:"-", p1r:0, p1b:0, p2r:0, p2b:0, maxB:12, target:0, innings:1, history:[], font:'Orbitron', color:'#39ff14' };

    // Loading Logic
    const isRet = localStorage.getItem('v15_user');
    const limit = isRet ? 2000 : 10000;
    let curProg = 0;
    let loader = setInterval(() => {
        curProg += (100/(limit/100));
        if(curProg > 100) curProg = 100;
        document.getElementById('load-pct').innerText = `${Math.floor(curProg)}%`;
        if(curProg >= 100) {
            clearInterval(loader);
            document.getElementById('splash').style.display='none';
            document.getElementById('app').style.display='flex';
            localStorage.setItem('v15_user','true');
            init();
        }
    }, 100);

    function init() {
        const data = localStorage.getItem('street_v15');
        if(data) { m = JSON.parse(data); applyCustomSettings(true); render(); }
        else { startFlow(); }
    }

    function applyCustomSettings(isInit = false) {
        if(!isInit) {
            m.font = document.getElementById('font-choice').value;
            m.color = document.getElementById('color-choice').value;
        } else {
            document.getElementById('font-choice').value = m.font;
            document.getElementById('color-choice').value = m.color;
        }
        document.getElementById('dynamic-theme').innerHTML = `:root { --neon: ${m.color}; --bg: #0a0a0a; --font: '${m.font}'; }`;
        save();
    }

    function toggleSettings() {
        const ui = document.getElementById('settings-ui');
        ui.style.display = (ui.style.display === 'flex') ? 'none' : 'flex';
    }

    function startFlow() {
        showModal("MATCH OVERS", (ov) => {
            m.maxB = parseInt(ov) * 6;
            showModal("STRIKER NAME", (s1) => { m.p1n = s1;
                showModal("NON-STRIKER", (s2) => { m.p2n = s2;
                    showModal("BOWLER NAME", (bn) => { m.bN = bn; save(); render(); });
                });
            });
        }, "number");
    }

    function hit(run) {
        pushHistory(); m.r += run; m.p1r += run; m.p1b++; m.b++;
        if(run % 2 !== 0) swap();
        if(run === 4 || run === 6) fx(run === 6 ? "BOOM SIX!" : "FOUR!");
        if(m.b % 6 === 0) { fx("OVER"); swap(); showModal("NEXT BOWLER", (bn) => { m.bN = bn; render(); save(); }); }
        checkInnings(); save(); render();
    }

    function extra() { pushHistory(); m.r++; save(); render(); }
    function wicket() {
        pushHistory(); fx("OUT!");
        showModal("NEW BATSMAN", (n) => { m.w++; m.p1n = n; m.p1r = 0; m.p1b = 0; checkInnings(); save(); render(); });
    }

    function checkInnings() {
        if(m.innings === 1 && (m.b >= m.maxB || m.w >= 10)) {
            m.target = m.r + 1; m.innings = 2;
            alert("1st Innings Over! Target: " + m.target);
            m.r=0; m.w=0; m.b=0; m.p1r=0; m.p1b=0; m.p2r=0; m.p2b=0;
            showModal("NEW STRIKER", (s1) => { m.p1n=s1; showModal("NON-STRIKER", (s2) => { m.p2n=s2; render(); }); });
        }
    }

    function render() {
        document.getElementById('main-score').innerText = `${m.r}-${m.w}`;
        document.getElementById('ovs-ui').innerText = `${Math.floor(m.b/6)}.${m.b%6}`;
        document.getElementById('max-ovs').innerText = m.maxB / 6;
        document.getElementById('bwl-n').innerText = m.bN;
        let ovPlayed = (Math.floor(m.b/6) + (m.b%6)/6);
        document.getElementById('rr-ui').innerText = ovPlayed > 0 ? (m.r / ovPlayed).toFixed(2) : "0.00";
        if(m.innings === 2) {
            document.getElementById('target-ui').style.display = 'block';
            document.getElementById('target-val').innerText = m.target;
            document.getElementById('rrr-box').style.display = 'inline';
            let bLeft = m.maxB - m.b; let rNeed = m.target - m.r;
            document.getElementById('rrr-ui').innerText = bLeft > 0 ? ((rNeed / bLeft) * 6).toFixed(2) : "0.00";
        }
        document.getElementById('p1-n').innerText = m.p1n;
        document.getElementById('p1-r').innerText = `${m.p1r}(${m.p1b})`;
        document.getElementById('p2-n').innerText = m.p2n;
        document.getElementById('p2-r').innerText = `${m.p2r}(${m.p2b})`;
        document.getElementById('p1-sr').innerText = "SR: " + (m.p1b > 0 ? ((m.p1r/m.p1b)*100).toFixed(1) : "0");
    }

    function swap() { [m.p1n, m.p2n] = [m.p2n, m.p1n]; [m.p1r, m.p2r] = [m.p2r, m.p1r]; [m.p1b, m.p2b] = [m.p2b, m.p1b]; }
    function fx(t) { 
        const o = document.getElementById('fx-overlay'); document.getElementById('fx-msg').innerText = t;
        o.style.display='flex'; setTimeout(()=>o.style.display='none', 1000);
    }
    function showModal(t, cb, type="text") {
        const ui = document.getElementById('modal-ui');
        document.getElementById('modal-title').innerText = t;
        document.getElementById('modal-content').innerHTML = `<input type="${type}" id="m-in" class="app-input"><button class="app-btn" onclick="subM()">CONFIRM</button>`;
        ui.style.display='flex';
        window.subM = () => { let v = document.getElementById('m-in').value; ui.style.display='none'; cb(v); };
    }
    function pushHistory() { m.history.push(JSON.stringify(m)); if(m.history.length > 5) m.history.shift(); }
    function undo() { if(m.history.length > 0) { m = JSON.parse(m.history.pop()); render(); save(); } }
    function save() { localStorage.setItem('street_v15', JSON.stringify(m)); }
    function resetMatch() { if(confirm("Reset Everything?")){ localStorage.clear(); location.reload(); } }
</script>
</body>
                                                                   </html>
                                                                                                  
