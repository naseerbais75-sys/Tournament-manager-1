<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, orientation=landscape">
    <title>Tournament Manager V39 - Bais Nasir</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --p: #ff007f; --bg: #05050a; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Rajdhani', sans-serif; font-weight: 800; }
        body { margin: 0; background: var(--bg); color: white; overflow: hidden; height: 100vh; display: flex; transition: 0.3s; }

        /* --- SPLASH SCREEN --- */
        #splash { position: fixed; inset:0; background: #000; z-index:11000; display:flex; flex-direction:column; justify-content:center; align-items:center; animation: fadeOut 0.8s ease 3s forwards; }
        .splash-main { font-size: 50px; color: white; text-shadow: 0 0 20px var(--p); letter-spacing: 5px; }
        .loader-bar { width: 200px; height: 4px; background: #222; margin-top: 20px; border-radius: 10px; overflow: hidden; }
        .loader-fill { width: 0%; height: 100%; background: var(--p); animation: load 2.5s ease forwards; }
        @keyframes load { 100% { width: 100%; } }
        @keyframes fadeOut { 100% { opacity: 0; visibility: hidden; } }

        /* --- SIDEBAR --- */
        .sidebar { width: 70px; background: #000; border-right: 2px solid var(--p); display: flex; flex-direction: column; align-items: center; padding: 20px 0; z-index: 1000; }
        .nav-icon { font-size: 22px; color: #333; margin: 15px 0; cursor: pointer; transition: 0.3s; }
        .nav-icon.active { color: var(--p); transform: scale(1.2); text-shadow: 0 0 15px var(--p); }

        /* --- MAIN --- */
        .main { flex: 1; padding: 15px; overflow-y: auto; background: #000; }
        .page { display: none; animation: fadeIn 0.4s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- CARDS --- */
        .league-nav { display: flex; gap: 10px; margin-bottom: 15px; overflow-x: auto; scrollbar-width: none; }
        .l-btn { background: #111; border: 1px solid #333; color: #777; padding: 10px 20px; border-radius: 8px; cursor: pointer; white-space: nowrap; }
        .l-btn.active { background: var(--p); color: white; border-color: var(--p); }
        
        .m-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .m-card { background: rgba(255,255,255,0.03); padding: 12px; border-radius: 10px; border: 1px solid #222; display: flex; justify-content: space-between; align-items: center; border-left: 5px solid var(--p); }
        .team-btn { width: 42%; background: #1a1a1a; padding: 10px; text-align: center; border-radius: 6px; cursor: pointer; border: 1px solid #333; font-size: 16px; }
        .team-btn:active { background: var(--p); }
        .stage { font-size: 9px; color: var(--p); text-transform: uppercase; }

        /* --- FX --- */
        #fx { position: fixed; inset: 0; display: none; justify-content: center; align-items: center; z-index: 10000; pointer-events: none; background: rgba(0,0,0,0.6); }
        .fx-box { background: white; color: black; padding: 20px 60px; border-radius: 10px; font-size: 35px; border-left: 15px solid var(--p); animation: pop 0.4s; text-align: center; }
        .trophy-img { width: 130px; animation: trophyPop 0.6s ease; }
        @keyframes pop { 0% { transform: scale(0); } 100% { transform: scale(1); } }
        @keyframes trophyPop { 0% { transform: scale(0) rotate(-20deg); } 100% { transform: scale(1) rotate(0); } }

        /* --- AIR HOCKEY --- */
        #hockey-wrap { text-align: center; }
        canvas { background: #050510; border: 3px solid var(--p); border-radius: 10px; touch-action: none; width: 100%; max-width: 500px; }

        .opt-btn { width: 100%; background: #111; border: 1px solid #333; color: white; padding: 12px; border-radius: 8px; margin-top: 8px; cursor: pointer; }
        #dl-btn { display: none; background: gold; color: black; padding: 15px; border-radius: 10px; text-align: center; font-weight: 900; text-decoration: none; margin-top: 20px; display: block; }
    </style>
</head>
<body onclick="startAudio()">

    <div id="splash">
        <div style="color:#888; letter-spacing:8px; font-size:12px; margin-bottom:10px;">BAIS NASEER PRESENTS</div>
        <div class="splash-main">TOURNAMENT MANAGER</div>
        <div class="loader-bar"><div class="loader-fill"></div></div>
    </div>

    <div id="fx"><div id="fx-content"></div></div>

    <div class="sidebar">
        <div class="nav-icon active" onclick="nav('home', this)"><i class="fas fa-trophy"></i></div>
        <div class="nav-icon" onclick="nav('hockey', this)"><i class="fas fa-hockey-puck"></i></div>
        <div class="nav-icon" onclick="nav('quiz', this)"><i class="fas fa-brain"></i></div>
        <div class="nav-icon" onclick="nav('settings', this)"><i class="fas fa-cog"></i></div>
        <div style="margin-top:auto;">
            <a href="https://youtube.com/@baisgaminglive?si=1xcUxYMX2A7oQtJx" target="_blank" class="nav-icon" style="color:red"><i class="fab fa-youtube"></i></a>
            <a href="https://whatsapp.com/channel/0029Vb7OTl7IHphRKwM9AD0H" target="_blank" class="nav-icon" style="color:#25d366"><i class="fab fa-whatsapp"></i></a>
        </div>
    </div>

    <div class="main">
        <div id="home" class="page active">
            <div class="league-nav">
                <button class="l-btn active" onclick="loadL('PSL', this)">PSL 10</button>
                <button class="l-btn" onclick="loadL('IPL', this)">IPL 2025</button>
                <button class="l-btn" onclick="loadL('WC', this)">WC 2026</button>
                <button class="l-btn" onclick="loadL('BBL', this)">BBL</button>
            </div>
            <div id="match-list" class="m-list"></div>
        </div>

        <div id="hockey" class="page">
            <div id="hockey-wrap">
                <canvas id="air-hockey"></canvas>
            </div>
        </div>

        <div id="quiz" class="page">
            <div id="q-area" style="background:#111; padding:20px; border-radius:15px; border:1px solid #333;">
                <h3 id="q-txt" style="color:var(--p)">Loading...</h3>
                <div id="q-opts"></div>
            </div>
            <a id="dl-link" style="display:none;" href="https://www.mediafire.com/file/39l445z3wry88cc/Game+Changer+5+V4.2+Beta+Version+IPL+Update.apk/file" target="_blank" class="opt-btn" style="background:gold; color:black; font-weight:900; text-align:center;">üöÄ DOWNLOAD GAME CHANGER 5 V4.2</a>
        </div>

        <div id="settings" class="page">
            <div style="background:#111; padding:20px; border-radius:15px;">
                <h3>THEME COLOR</h3>
                <input type="color" onchange="setTheme(this.value)" style="width:100%; height:50px; background:none; border:none;">
                <button onclick="location.reload()" style="width:100%; margin-top:15px; background:var(--p); border:none; color:white; padding:12px; border-radius:8px;">REFRESH APP</button>
            </div>
        </div>
    </div>

    <audio id="bgm" loop><source src="https://www.soundjay.com/buttons/sounds/button-3.mp3"></audio>

<script>
    let audioOn = false, score = 0, qIdx = 0, curL = 'PSL';

    const db = {
        PSL: {t: "https://i.ibb.co/v4pX2P0/psl-trophy.png", m: [["LQ","KK","R1"],["PZ","IU","R1"],["MS","QG","R1"],["KK","PZ","R1"],["IU","MS","R1"],["QG","LQ","R1"],["LQ","PZ","R2"],["KK","MS","R2"],["QG","IU","R2"],["Qual-1","Qual-2","QUALIFIER"],["Elim-1","Elim-2","ELIMINATOR"],["FINAL","FINAL","FINAL"]]},
        IPL: {t: "https://i.ibb.co/YyY0mP0/ipl-trophy.png", m: [["CSK","RCB","R1"],["MI","GT","R1"],["KKR","SRH","R1"],["RR","LSG","R1"],["DC","PBKS","R1"],["CSK","MI","R2"],["RCB","KKR","R2"],["SRH","RR","R2"],["GT","DC","R2"],["Qual-1","Qual-2","QUALIFIER"],["Eliminator","3rd Place","ELIMINATOR"],["IPL FINAL","FINAL","FINAL"]]},
        WC: {t: "https://i.ibb.co/F8H0vXj/wc-trophy.png", m: [["PAK","IND","GP"],["AUS","ENG","GP"],["RSA","NZ","GP"],["WI","IND","GP"],["PAK","USA","GP"],["AFG","SL","GP"],["BAN","PAK","GP"],["IND","AUS","GP"],["Semi-1","Semi-2","SEMI"],["Semi-3","Semi-4","SEMI"],["WC FINAL","FINAL","FINAL"]]},
        BBL: {t: "https://i.ibb.co/Xz9gL1f/bbl-trophy.png", m: [["Stars","Ren","R1"],["Heat","Sixers","R1"],["Hur","Sco","R1"],["Stri","Thun","R1"],["Stars","Heat","R2"],["Ren","Sixers","R2"],["Sco","Stri","R2"],["Thun","Hur","R2"],["Semi-1","Semi-2","SEMI"],["BBL FINAL","FINAL","FINAL"]]}
    };

    const quiz = [
        {q:"Who is King of Cricket?", o:["Kohli","Babar","Rohit"], a:"Kohli"},
        {q:"IPL 2024 Winner?", o:["KKR","SRH","CSK"], a:"KKR"},
        {q:"Babar's PSL Team?", o:["LQ","PZ","KK"], a:"PZ"},
        {q:"Host of WC 2026?", o:["India/SL","USA","AUS"], a:"India/SL"},
        {q:"Fastest T20 100?", o:["Kushal Malla","Gayle","Miller"], a:"Kushal Malla"}
    ];

    function nav(id, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        document.querySelectorAll('.nav-icon').forEach(n => n.classList.remove('active'));
        el.classList.add('active');
        if(id=='hockey') initHockey();
        if(id=='quiz') startQuiz();
    }

    function loadL(key, btn) {
        curL = key;
        document.querySelectorAll('.l-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const list = document.getElementById('match-list');
        list.innerHTML = "";
        db[key].m.forEach(m => {
            list.innerHTML += `
                <div class="m-card">
                    <div class="team-btn" onclick="win(this,'${m[0]}','${m[2]}')">${m[0]}</div>
                    <div style="text-align:center;"><div class="stage">${m[2]}</div><div style="color:#444">VS</div></div>
                    <div class="team-btn" onclick="win(this,'${m[1]}','${m[2]}')">${m[1]}</div>
                </div>`;
        });
    }

    function win(el, name, stage) {
        const fx = document.getElementById('fx');
        const content = document.getElementById('fx-content');
        fx.style.display = 'flex';
        if(stage === 'FINAL') {
            content.innerHTML = `<img src="${db[curL].t}" class="trophy-img"><br><h2 style="color:black">${name} ARE CHAMPIONS!</h2>`;
        } else {
            content.innerHTML = `<div class="fx-box">${name} WINS!</div>`;
        }
        setTimeout(() => { fx.style.display = 'none'; el.parentElement.remove(); }, 2000);
    }

    function startQuiz() {
        if(qIdx >= 5) return;
        const q = quiz[qIdx];
        document.getElementById('q-txt').innerText = q.q;
        const opts = document.getElementById('q-opts');
        opts.innerHTML = "";
        q.o.forEach(o => opts.innerHTML += `<button class="opt-btn" onclick="check('${o}')">${o}</button>`);
    }

    function check(ans) {
        const fx = document.getElementById('fx');
        const content = document.getElementById('fx-content');
        fx.style.display = 'flex';
        if(ans === quiz[qIdx].a) {
            score++;
            content.innerHTML = `<div class="fx-box" style="border-left-color:#00ff88">SIX! üèè</div>`;
        } else {
            content.innerHTML = `<div class="fx-box" style="border-left-color:#ff3333">WICKET! ‚òùÔ∏è</div>`;
        }
        qIdx++;
        setTimeout(() => {
            fx.style.display = 'none';
            if(qIdx < 5) startQuiz();
            else {
                document.getElementById('q-area').style.display = 'none';
                if(score === 5) document.getElementById('dl-link').style.display = 'block';
                else { alert("Score: "+score+"/5. Need 5/5!"); qIdx=0; score=0; startQuiz(); }
            }
        }, 1200);
    }

    function initHockey() {
        const c = document.getElementById('air-hockey');
        const ctx = c.getContext('2d');
        c.width = 500; c.height = 300;
        let puck = {x:250, y:150, vx:4, vy:4, r:10};
        let player = {x:40, y:150, r:20}, ai = {x:460, y:150, r:20};

        c.addEventListener('touchmove', (e) => {
            let rect = c.getBoundingClientRect();
            player.y = e.touches[0].clientY - rect.top;
            e.preventDefault();
        }, {passive: false});

        function draw() {
            ctx.clearRect(0,0,500,300);
            ctx.strokeStyle = localStorage.getItem('theme') || '#ff007f';
            ctx.strokeRect(0,0,500,300);
            ctx.fillStyle = "white"; ctx.beginPath(); ctx.arc(puck.x, puck.y, puck.r, 0, Math.PI*2); ctx.fill();
            ctx.fillStyle = localStorage.getItem('theme') || '#ff007f';
            ctx.beginPath(); ctx.arc(player.x, player.y, player.r, 0, Math.PI*2); ctx.fill();
            ctx.fillStyle = "cyan"; ctx.beginPath(); ctx.arc(ai.x, ai.y, ai.r, 0, Math.PI*2); ctx.fill();
            puck.x += puck.vx; puck.y += puck.vy;
            if(puck.y < 10 || puck.y > 290) puck.vy *= -1;
            if(Math.hypot(puck.x-player.x, puck.y-player.y) < puck.r+player.r) puck.vx = Math.abs(puck.vx);
            if(Math.hypot(puck.x-ai.x, puck.y-ai.y) < puck.r+ai.r) puck.vx = -Math.abs(puck.vx);
            if(puck.x < 0 || puck.x > 500) { puck.x=250; puck.vx *= -1; }
            ai.y += (puck.y - ai.y) * 0.1;
            requestAnimationFrame(draw);
        }
        draw();
    }

    function setTheme(c) { document.documentElement.style.setProperty('--p', c); localStorage.setItem('theme', c); }
    function startAudio() { if(!audioOn) { document.getElementById('bgm').play(); audioOn = true; } }
    window.onload = () => { setTheme(localStorage.getItem('theme') || '#ff007f'); loadL('PSL', document.querySelector('.l-btn')); };
</script>
</body>
</html>
